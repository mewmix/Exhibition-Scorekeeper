<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scorekeeper</title>
    <script src="https://unpkg.com/htmx.org"></script>
</head>
<body>
    <h1>Scorekeeper</h1>

    <section>
        <h2>Create Player Profile</h2>
        <form hx-post="http://192.168.123.247:5000/player/create" hx-target="#response" hx-swap="outerHTML">
            <input type="text" name="name" placeholder="Player Name" required>
            <input type="number" name="lags_won" placeholder="Lags Won" value="0" min="0">
            <button type="submit">Create Player</button>
        </form>
    </section>
    <div id="response"></div>
    
    <section>
        <h2>Start 8-Ball Game</h2>
        <form hx-post="http://192.168.123.247:5000/game/start" hx-target="#game-status" hx-swap="outerHTML">
            <select name="player1" required>
                {% for player in players %}
                <option value="{{ player }}">{{ player }}</option>
                {% endfor %}
            </select>
            <select name="player2" required>
                {% for player in players %}
                <option value="{{ player }}">{{ player }}</option>
                {% endfor %}
            </select>
            <button type="submit">Start Game</button>
        </form>
        <div id="game-status"></div>
    </section>

    <section>
        <h2>Game Actions</h2>
        <form hx-post="http://192.168.123.247:5000/game/action" hx-target="#action-response" hx-swap="outerHTML">
            <input type="hidden" name="action" value="pocket_ball">
            <label for="ball_number">Ball Number:</label>
            <input type="number" id="ball_number" name="ball_number" min="1" max="15">
            <button type="submit">Pocket Ball</button>
        </form>
        <form hx-post="192.168.123.247:5000/game/action" hx-target="#action-response" hx-swap="outerHTML">
            <input type="hidden" name="action" value="defensive_shot">
            <button type="submit">Defensive Shot</button>
        </form>
        <form hx-post="192.168.123.247:5000/game/action" hx-target="#action-response" hx-swap="outerHTML">
            <input type="hidden" name="action" value="switch_turn">
            <button type="submit">Switch Turn</button>
        </form>
        <div id="action-response"></div>
    </section>

    <section>
        <h2>Game Stats</h2>
        <button id="load-stats-btn" hx-get="/game/stats/4" hx-target="#stats" hx-swap="outerHTML">Load Game Stats</button>
        <div id="stats"></div>
    </section>
    
    
    <script>

    </script>
    
</body>
</html>
